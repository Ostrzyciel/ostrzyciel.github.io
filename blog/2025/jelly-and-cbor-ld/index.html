<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Jelly and CBOR-LD: two flavors of binary RDF | Piotr Sowiński </title> <meta name="author" content="Piotr Sowiński"> <meta name="description" content="Playing with two binary RDF formats, Jelly and CBOR-LD, through experiments on IoT data and Verifiable Credentials."> <meta name="keywords" content="academic-website, portfolio-website, blog, ostrzyciel, knowledge-graphs, streaming"> <meta property="og:site_name" content="Piotr Sowiński"> <meta property="og:type" content="article"> <meta property="og:title" content="Piotr Sowiński | Jelly and CBOR-LD: two flavors of binary RDF"> <meta property="og:url" content="https://ostrzyciel.eu/blog/2025/jelly-and-cbor-ld/"> <meta property="og:description" content="Playing with two binary RDF formats, Jelly and CBOR-LD, through experiments on IoT data and Verifiable Credentials."> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Jelly and CBOR-LD: two flavors of binary RDF"> <meta name="twitter:description" content="Playing with two binary RDF formats, Jelly and CBOR-LD, through experiments on IoT data and Verifiable Credentials."> <script type="application/ld+json">
    {
        "author":
        {
            "@type": "Person",
            "name": "Piotr Sowiński"
        },
        "url": "https://ostrzyciel.eu/blog/2025/jelly-and-cbor-ld/",
        "@type": "BlogPosting",
        "description": "Playing with two binary RDF formats, Jelly and CBOR-LD, through experiments on IoT data and Verifiable Credentials.",
        "headline": "Jelly and CBOR-LD: two flavors of binary RDF",
        
        "sameAs": ["https://orcid.org/0000-0002-2543-9461", "https://scholar.google.com/citations?user=MPj9pngAAAAJ", "https://www.researchgate.net/profile/Piotr_Sowinski2", "https://github.com/Ostrzyciel", "https://www.linkedin.com/in/piotr-sowinski"],
        
        "name": "Piotr Sowiński",
        "@context": "https://schema.org"
    }
  </script> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Material+Icons|Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.png?4608794d695ad9fed1682b84f8e83c8e"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://ostrzyciel.eu/blog/2025/jelly-and-cbor-ld/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-bold" href="/"> Piotr Sowiński </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects &amp; software </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">Teaching </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">Search <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Jelly and CBOR-LD: two flavors of binary RDF</h1> <p class="post-meta"> Posted on April 01, 2025 </p> <p class="post-tags mb-0 pb-0"> <a href="/blog/2025"> <i class="fa-solid fa-calendar fa-sm"></i> 2025 </a>   ·   <a href="/blog/tag/rdf"> <i class="fa-solid fa-hashtag fa-sm"></i> rdf</a>   <a href="/blog/tag/jelly"> <i class="fa-solid fa-hashtag fa-sm"></i> jelly</a>   <a href="/blog/tag/cbor-ld"> <i class="fa-solid fa-hashtag fa-sm"></i> cbor-ld</a>   <a href="/blog/tag/iot"> <i class="fa-solid fa-hashtag fa-sm"></i> iot</a>   <a href="/blog/tag/compression"> <i class="fa-solid fa-hashtag fa-sm"></i> compression</a> </p> <p class="mb-4"> <a href="/blog/">&lt;~  Go back</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p>I’ve recently learned about CBOR-LD (see <a href="https://docs.google.com/presentation/d/1ksh-gUdjJJwDpdleasvs9aRXEmeRvqhkVWqeitx5ZAE/" rel="external nofollow noopener" target="_blank">presentation</a>), a binary version of <a href="https://json-ld.org/" rel="external nofollow noopener" target="_blank">JSON-LD</a> with advanced compression mechanisms to make the serialized representation as small as possible. From what I understand, the main use case for CBOR-LD are QR codes and NFC tags, where reducing the size of data is crucial.</p> <p>This got me really interested, because I maintain <a href="https://w3id.org/jelly" rel="external nofollow noopener" target="_blank">Jelly</a>, also a binary RDF format. Jelly, however, focuses on very high read-write performance, and while it is pretty compact, I would not expect it to be comparable to CBOR-LD in terms of size.</p> <h2 id="how-does-cbor-ld-work">How does CBOR-LD work?</h2> <p>Quite honestly, I have a limited understanding of that, but here’s what I’ve figured out so far. In JSON-LD there is the notion of a “context”, which is basically a dictionary that maps JSON keys to more complex structures.</p> <p>Here is an example from the <a href="https://www.w3.org/TR/json-ld11/#example-7-in-line-context-definition" rel="external nofollow noopener" target="_blank">JSON-LD 1.1 spec</a>. We can take an input document like this:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="w">
  </span><span class="nl">"http://schema.org/name"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nl">"@value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manu Sporny"</span><span class="p">}],</span><span class="w">
  </span><span class="nl">"http://schema.org/url"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://manu.sporny.org/"</span><span class="w"> </span><span class="p">}],</span><span class="w">
  </span><span class="nl">"http://schema.org/image"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://manu.sporny.org/images/manu.png"</span><span class="w"> </span><span class="p">}]</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre></div></div> <p>…add a context like this:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"@context"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.org/name"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.org/image"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"@type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@id"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"homepage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.org/url"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"@type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>…and we get a compacted document like this:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"@context"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manu Sporny"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"homepage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://manu.sporny.org/"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://manu.sporny.org/images/manu.png"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>I’ve replaced the context with <code class="language-plaintext highlighter-rouge">...</code> here, because there are actually two ways you can use a context in JSON-LD: you can either inline it (put the whole <code class="language-plaintext highlighter-rouge">@context</code> map there) or you can refer to it by a URL. The latter is a clever trick, because you are removing a bunch of information from the document and putting it somewhere else. The producer of the data and the consumer must agree on the context, but once they do, the data can be very compact. This behavior is in fact unique to JSON-LD among standardized RDF formats. The others (like Turtle) never put data outside of the document.</p> <p>CBOR-LD is first of all a translation of JSON-LD to binary, which already saves a few bytes. But it also takes this context mechanism to the extreme with what it calls <strong><em>semantic compression</em></strong>. The context dictionary is then indexed by integers (not strings), and you can also put more pattern types in the dictionary than with JSON-LD. CBOR-LD also uses value encodings of literals (so, instead of a string “1234” you would have an actual integer), which is another way to save space, while losing a bit of information (RDF purists might not like that).</p> <p>My explanation is probably not very accurate, so I recommend you check out the <a href="https://docs.google.com/presentation/d/1ksh-gUdjJJwDpdleasvs9aRXEmeRvqhkVWqeitx5ZAE/" rel="external nofollow noopener" target="_blank">presentation slides</a> I mentioned earlier or the <a href="https://json-ld.github.io/cbor-ld-spec/" rel="external nofollow noopener" target="_blank">draft spec</a> for more details.</p> <h2 id="how-does-jelly-work">How does Jelly work?</h2> <p>That’s really a story for a few other blogposts! 😆 But, in short, <a href="https://w3id.org/jelly" rel="external nofollow noopener" target="_blank">Jelly</a> is much closer to more traditional RDF formats (like <a href="https://www.w3.org/TR/turtle/" rel="external nofollow noopener" target="_blank">Turtle</a>) than CBOR-LD. Internally, it looks a lot like an N-Triples/N-Quads file (just a long list of triples), but the triples are interspersed with dictionary entries.</p> <p>For example, if we are going to use the IRI <code class="language-plaintext highlighter-rouge">http://xmlns.com/foaf/0.1/knows</code>, we put the prefix <code class="language-plaintext highlighter-rouge">http://xmlns.com/foaf/0.1/</code> in the prefix lookup under, say, ID 4, and then we put the string <code class="language-plaintext highlighter-rouge">knows</code> in the name lookup under ID 2. The IRI then looks like this: <code class="language-plaintext highlighter-rouge">RdfIri(4, 2)</code>. The lookups are updated as we go along through the stream, evicting old entries if needed. They are sent via the same byte stream as the triples/quads, so you get the entire data in one file – just like in Turtle or N-Triples.</p> <p>There are also a few other techniques used, including compressing repeating terms and some tricks with differential compression of lookup references… You can find the <a href="https://jelly-rdf.github.io/dev/specification/serialization/" rel="external nofollow noopener" target="_blank">full spec on Jelly’s website</a>, if you are interested. The nice part about it is that it’s very fast, works automatically with any RDF data (no need to think about contexts), can handle data of any size (with bounded memory!), and is sufficiently compact for most use cases.</p> <h2 id="experiment-1--iot-data">Experiment 1 – IoT data</h2> <p>Like I mentioned, the two formats have very different use cases. Being shameless and curious, I first tried them with something that Jelly was built for – streaming IoT data. I took the <a href="https://w3id.org/riverbench/datasets/assist-iot-weather-graphs/1.0.3" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">assist-iot-weather-graphs</code></a> dataset from RiverBench. The dataset is a series of weather observations, with each measurement being a named RDF graph with a bunch of triples describing the sensors, wind speed, temperatures, and so on (you can find samples on <a href="https://w3id.org/riverbench/datasets/assist-iot-weather-graphs/1.0.3" rel="external nofollow noopener" target="_blank">its description page</a> in RiverBench).</p> <p>The code for the experiments is <strong><a href="https://github.com/Ostrzyciel/jelly-cbor-ld/blob/072f69920978f4e98c4ab3311c8135f0b27cd366/src/main/java/eu/ostrzyciel/experiments/jelly_cbor_ld/Main.java" rel="external nofollow noopener" target="_blank">here</a></strong>. It uses the <a href="https://w3id.org/jelly/jelly-jvm/2.9.x/user/titanium/" rel="external nofollow noopener" target="_blank">new shiny integration of Jelly-JVM with the Titanium RDF API</a>. The new <a href="https://github.com/filip26/titanium-rdf-api" rel="external nofollow noopener" target="_blank">Titanium API</a> is intended to be a minimalistic bridge between different RDF libraries and I think it does a great job at that – linking Jelly-JVM to Titanium JSON-LD was a breeze.</p> <p>I first needed to encode the data in JSON-LD, and then compact it. For that I needed a context. Now – I’m bad at JSON-LD, so I used the context creation algorithm that Apache Jena uses, which is to simply use all explicitly defined prefixes and build a context like this:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"@context"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"aiot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://assist-iot.eu/ontologies/aiot#"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"aiot_p2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://assist-iot.eu/ontologies/aiot_p2#"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"geosparql"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.opengis.net/ont/geosparql#"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"om"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.ontology-of-units-of-measure.org/resource/om-2/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pilot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://assist-iot.eu/pilot2_rdf/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prov"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.w3.org/ns/prov#"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rdfs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.w3.org/2000/01/rdf-schema#"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sosa"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.w3.org/ns/sosa/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ssn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.w3.org/ns/ssn/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"xsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.w3.org/2001/XMLSchema#"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>Note that this is likely not even close to being optimal, but it is simple to build and analogous to Turtle. Also note that Jelly does not need you to manually specify the prefixes, it figures them out automatically from the raw data.</p> <p>I then put the context under a local URL (in a file on disk), so that the context is just an URL reference, and compressed it with CBOR-LD.</p> <p>Here are the results, in bytes:</p> <table class="table table-sm"> <thead> <tr> <th>Stream element</th> <th style="text-align: right">Jelly</th> <th style="text-align: right">JSON-LD</th> <th style="text-align: right">JSON-LD (compacted)</th> <th style="text-align: right">CBOR-LD</th> </tr> </thead> <tbody> <tr> <td>0</td> <td style="text-align: right">3929</td> <td style="text-align: right">13321</td> <td style="text-align: right">6735</td> <td style="text-align: right">5273</td> </tr> <tr> <td>1</td> <td style="text-align: right">2259</td> <td style="text-align: right">13321</td> <td style="text-align: right">6735</td> <td style="text-align: right">5273</td> </tr> <tr> <td>2</td> <td style="text-align: right">2261</td> <td style="text-align: right">13321</td> <td style="text-align: right">6735</td> <td style="text-align: right">5273</td> </tr> <tr> <td>3</td> <td style="text-align: right">2260</td> <td style="text-align: right">13320</td> <td style="text-align: right">6734</td> <td style="text-align: right">5272</td> </tr> </tbody> </table> <p>One thing I didn’t mention is that Jelly can work with RDF streams, so it is able to encode multiple RDF datasets (in this case, 1 dataset = 1 weather observation) as a single stream. This is why the first frame in Jelly’s stream is larger – it contains the prefixes and other lookup entries. The subsequent frames are much smaller, because they only contain the dictionary references and literals.</p> <p>CBOR-LD seems to be much worse here, but like I mentioned, I did a very bad job at preparing the JSON-LD context. If I used something really fine-tuned to the kind of data I’m working with, the results would be much better (probably better than Jelly!). If someone wants to try their hand at this, I would be very interested in updating the blogpost with them. I think it should be possible to get it down below 1000 bytes.</p> <h2 id="experiment-2--verifiable-credentials">Experiment 2 – Verifiable Credentials</h2> <p>Now, this is what CBOR-LD was really built for. <a href="https://w3c-ccg.github.io/vc-barcodes/" rel="external nofollow noopener" target="_blank">Verifiable Credentials (VCs)</a> contain information about, for example, your driver’s license or vaccination status. They are meant to be stored in QR/barcodes or NFC tags, so the smaller the better.</p> <p>The <a href="https://github.com/filip26/ld-cli?tab=readme-ov-file#custom-cbor-ld-dictionaries" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">ld-cli</code> tool</a> has a great example of something like this – only 145 bytes for the whole thing! I wanted to see how Jelly would do with it.</p> <p>The code for this experiment is in <a href="https://github.com/Ostrzyciel/jelly-cbor-ld/blob/072f69920978f4e98c4ab3311c8135f0b27cd366/src/main/java/eu/ostrzyciel/experiments/jelly_cbor_ld/Main.java" rel="external nofollow noopener" target="_blank">the same file as before</a>.</p> <table class="table table-sm"> <thead> <tr> <th>Stream element</th> <th style="text-align: right">Jelly</th> <th style="text-align: right">JSON-LD (compacted)</th> <th style="text-align: right">CBOR-LD</th> </tr> </thead> <tbody> <tr> <td>0</td> <td style="text-align: right">1337</td> <td style="text-align: right">1098</td> <td style="text-align: right">145</td> </tr> <tr> <td>1</td> <td style="text-align: right">331</td> <td style="text-align: right">1098</td> <td style="text-align: right">145</td> </tr> <tr> <td>2</td> <td style="text-align: right">331</td> <td style="text-align: right">1098</td> <td style="text-align: right">145</td> </tr> </tbody> </table> <p>Remember, CBOR-LD is putting essentially the entire dictionary (IRIs and stuff) in the context, which is not part of the message. In Jelly, I ran the same VC through the encoder a few times, to get a similar effect as with the IoT data. The first frame is larger, because it contains the prefixes and dictionary entries, but the subsequent frames are much smaller.</p> <p>So – if you treated the first Jelly frame as a “context” of sorts that is pre-shared between the producer and the consumer, you would get a very similar mechanism as in CBOR-LD. In that case I’d say that the comparison between the <code class="language-plaintext highlighter-rouge">331</code> bytes of Jelly to the <code class="language-plaintext highlighter-rouge">145</code> bytes of CBOR-LD is a fair one.</p> <p>I also tried applying binary compression (gzip and zstd) to the outputs (<a href="https://github.com/Ostrzyciel/jelly-cbor-ld/blob/072f69920978f4e98c4ab3311c8135f0b27cd366/src/main/java/eu/ostrzyciel/experiments/jelly_cbor_ld/Compression.java" rel="external nofollow noopener" target="_blank">see the code</a>):</p> <table class="table table-sm"> <thead> <tr> <th>Binary compression</th> <th style="text-align: right">Jelly (el. 1)</th> <th style="text-align: right">JSON-LD (compacted)</th> <th style="text-align: right">CBOR-LD</th> </tr> </thead> <tbody> <tr> <td>None</td> <td style="text-align: right">331</td> <td style="text-align: right">1098</td> <td style="text-align: right">145</td> </tr> <tr> <td>gzip (level 6)</td> <td style="text-align: right">274</td> <td style="text-align: right">549</td> <td style="text-align: right">168</td> </tr> <tr> <td>zstd (level 19)</td> <td style="text-align: right">264</td> <td style="text-align: right">552</td> <td style="text-align: right">157</td> </tr> </tbody> </table> <p>Setting higher compression levels did not make the files smaller. We can see that you can shave off a few bytes from the Jelly file, but it’s still far from being as compact as CBOR-LD. On the other hand, the CBOR file gets a bit larger, because the data is already very tightly compressed.</p> <h2 id="concluding-thoughts">Concluding thoughts</h2> <p>Jelly and CBOR-LD are both binary RDF formats, but with very different goals, use cases, and strengths.</p> <p>CBOR-LD can be really, really compact, if you put in the work of defining a good context. Jelly does everything automatically for you (“one size fits all”), but is not as compact. There are <a href="https://github.com/Jelly-RDF/jelly-protobuf/issues/14" rel="external nofollow noopener" target="_blank">things that could be improved</a> in Jelly to make it a bit smaller (and I’m working on it!), but it often does require sacrificing some interoperability or speed.</p> <p>On the very far extreme end, you could define a binary format that has a context that’s a pattern of triples with a couple of blanks to fill in (like a template). The binary representation would be just the serialized field contents, in sequence. Literally zero overhead. Flexibility would be zero as well, but it would be the most compact format possible. At this point I start to wonder if it wouldn’t make sense to just use a dedicated binary format for the specific use case, and then link it to an <a href="https://rml.io/" rel="external nofollow noopener" target="_blank">RML template</a> or something like that. 😆 Quite honestly, I think that this kind of approach may make quite a lot sense for narrowly-defined messages – from what I understand this is similar to what the <a href="https://www.smart-edge.eu/" rel="external nofollow noopener" target="_blank">SmartEdge EU project</a> is working on.</p> <p>The point is that there is always a trade-off between compactness, speed, and flexibility. Jelly is optimized for speed and flexibility, while CBOR-LD is optimized for compactness. The choice of format depends on the use case. I think CBOR-LD is an excellent idea overall, but one with relatively narrow use cases. There is also the issue of how to keep track of the registered contexts, and the related security implications – this was brought up at the last W3C JSON-LD CG meeting. I will keep working on making Jelly a bit more compact, but there is only so much that you can do without sacrificing the other properties.</p> <p>Caveat: I did not compare speed here, at all. While Jelly is <a href="https://w3id.org/jelly/dev/performance/" rel="external nofollow noopener" target="_blank">insanely fast</a>, especially for IoT data, I would expect CBOR-LD to be way slower, because it’s another layer of complexity on an already complex format (JSON-LD). I guess that’s a topic for future blogpost.</p> <h2 id="shout-outs">Shout-outs</h2> <p>Many thanks to <a href="https://github.com/filip26/" rel="external nofollow noopener" target="_blank">filip26</a> for his help in explaining to me how CBOR-LD works and how to use it. He made the amazing <a href="https://github.com/filip26/titanium-rdf-api" rel="external nofollow noopener" target="_blank">Titanium RDF API</a> I used to convert between Jelly and CBOR-LD, the <a href="https://github.com/filip26/iridium-cbor-ld" rel="external nofollow noopener" target="_blank">iridium-cbor-ld library</a>, and the <a href="https://github.com/filip26/ld-cli" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">ld-cli</code> tool</a>, which was super helpful.</p> <p>Also, shout out to the <a href="https://www.w3.org/groups/cg/json-ld/" rel="external nofollow noopener" target="_blank">W3C JSON-LD Community Group</a>, through which I got to know CBOR-LD better!</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Related blog posts</h2> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/scala-performance-avoiding-allocation/">Making Scala go fast: avoiding allocations</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/pythons-data-science-ecosystem-matures/">Python's data science ecosystem matures – the case of Polars</a> </li> <div id="giscus_thread" style="max-width: 930px; margin: 0 auto;"> <script>let giscusTheme=determineComputedTheme(),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"Ostrzyciel/ostrzyciel.github.io","data-repo-id":"R_kgDOMilBnQ","data-category":"ostrzyciel.eu blog comments","data-category-id":"DIC_kwDOMilBnc4ChlmU","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"top","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> <div style="padding-bottom: 1.2em; margin-top: 1em;"> <div class="atom-widget"> <a href="/feed.xml" title="RSS/Atom Feed" style="font-size: 1.8rem;"> <i class="fa-solid fa-square-rss"></i> Subscribe (RSS/Atom) </a><br> <i style="color: #222;">RSS/Atom feeds can be read by various applications, like <a href="https://support.mozilla.org/en-US/kb/how-subscribe-news-feeds-and-blogs" rel="external nofollow noopener" target="_blank">Thunderbird</a>, <a href="https://support.microsoft.com/en-us/office/subscribe-to-an-rss-feed-73c6e717-7815-4594-98e5-81fa369e951c" rel="external nofollow noopener" target="_blank">Outlook</a>, some browser extensions, and more. They will show you a notification about new posts on this blog.</i> </div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Piotr Sowiński. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?601a2d3465e2a52bec38b600518d5f70"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"About",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-blog",title:"Blog",description:"",section:"Navigation",handler:()=>{window.location.href="/blog/"}},{id:"nav-publications",title:"Publications",description:"Publications in reverse chronological order.",section:"Navigation",handler:()=>{window.location.href="/publications/"}},{id:"nav-projects-amp-software",title:"Projects &amp; software",description:"Some of the projects and software I have been working on. The list is incomplete, mostly focusing on my recent work on KG streaming.",section:"Navigation",handler:()=>{window.location.href="/projects/"}},{id:"nav-teaching",title:"Teaching",description:"Project and laboratory classes taught by me at Warsaw University of Technology.",section:"Navigation",handler:()=>{window.location.href="/teaching/"}},{id:"post-jelly-and-cbor-ld-two-flavors-of-binary-rdf",title:"Jelly and CBOR-LD: two flavors of binary RDF",description:"Playing with two binary RDF formats, Jelly and CBOR-LD, through experiments on IoT data and Verifiable Credentials.",section:"Posts",handler:()=>{window.location.href="/blog/2025/jelly-and-cbor-ld/"}},{id:"post-making-scala-go-fast-avoiding-allocations",title:"Making Scala go fast: avoiding allocations",description:"In this post, we explore the ways in which you can avoid the overhead of allocating things on the heap in Scala 3.",section:"Posts",handler:()=>{window.location.href="/blog/2024/scala-performance-avoiding-allocation/"}},{id:"post-python-39-s-data-science-ecosystem-matures-the-case-of-polars",title:"Python&#39;s data science ecosystem matures \u2013 the case of Polars",description:"It simply feels amazing to finally get something you were waiting for, after many years. This is a story about Python, data science, and software library design. The star: Polars.",section:"Posts",handler:()=>{window.location.href="/blog/2024/pythons-data-science-ecosystem-matures/"}},{id:"projects-jelly",title:"Jelly",description:"Jelly is a high-performance RDF serialization format and streaming protocol",section:"Projects",handler:()=>{window.location.href="/projects/jelly/"}},{id:"projects-jelly-cli",title:"jelly-cli",description:"Fast and convenient command-line tool for working with Jelly",section:"Projects",handler:()=>{window.location.href="/projects/jelly_cli/"}},{id:"projects-jelly-jvm",title:"Jelly-JVM",description:"Jelly-JVM is a blazing-fast implementation of the Jelly streaming protocol for the Java Virtual Machine",section:"Projects",handler:()=>{window.location.href="/projects/jelly_jvm/"}},{id:"projects-pyjelly",title:"pyjelly",description:"Python implementation of Jelly, with full support for rdflib",section:"Projects",handler:()=>{window.location.href="/projects/pyjelly/"}},{id:"projects-rdf-stream-taxonomy",title:"RDF Stream Taxonomy",description:"RDF-STaX organizes RDF stream types and provides a common vocabulary for describing them.",section:"Projects",handler:()=>{window.location.href="/projects/rdf_stax/"}},{id:"projects-riverbench",title:"RiverBench",description:"RiverBench is an open RDF streaming benchmark suite that can be used for a wide range of benchmarking tasks",section:"Projects",handler:()=>{window.location.href="/projects/riverbench/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%70%69%6F%74%72.%73%6F%77%69%6E%73%6B%69.%64%6F%6B%74@%70%77.%65%64%75.%70%6C","_blank")}},{id:"socials-orcid",title:"ORCID",section:"Socials",handler:()=>{window.open("https://orcid.org/0000-0002-2543-9461","_blank")}},{id:"socials-google-scholar",title:"Google Scholar",section:"Socials",handler:()=>{window.open("https://scholar.google.com/citations?user=MPj9pngAAAAJ","_blank")}},{id:"socials-researchgate",title:"ResearchGate",section:"Socials",handler:()=>{window.open("https://www.researchgate.net/profile/Piotr_Sowinski2/","_blank")}},{id:"socials-github",title:"GitHub",section:"Socials",handler:()=>{window.open("https://github.com/Ostrzyciel","_blank")}},{id:"socials-linkedin",title:"LinkedIn",section:"Socials",handler:()=>{window.open("https://www.linkedin.com/in/piotr-sowinski","_blank")}},{id:"socials-rss",title:"RSS Feed",section:"Socials",handler:()=>{window.open("/feed.xml","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>